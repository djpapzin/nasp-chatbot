2024-11-11 21:18:37,880 - __main__ - INFO - Starting NASP Chatbot
2024-11-11 21:18:37,889 - __main__ - INFO - Initializing bot components
2024-11-11 21:18:37,889 - __main__ - INFO - === Starting Bot Initialization ===
2024-11-11 21:18:37,890 - __main__ - INFO - Stage 1: Initializing Document Manager
2024-11-11 21:18:37,891 - __main__ - INFO - Stage 2: Loading Default Documents
2024-11-11 21:18:37,891 - __main__ - INFO - Processing document: Exploring Pathways to Decent Employment
2024-11-11 21:18:37,892 - __main__ - ERROR - Error during initialization: 'DocumentManager' object has no attribute 'load_document_from_url'
Traceback (most recent call last):
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\src\telegram_bot.py", line 42, in init_components
    docs = doc_manager.load_document_from_url(doc['url'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DocumentManager' object has no attribute 'load_document_from_url'
2024-11-11 21:18:37,895 - __main__ - ERROR - Fatal error starting bot
Traceback (most recent call last):
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\src\telegram_bot.py", line 192, in main
    vector_store, llm, qa_chain, doc_manager = init_components()
                                               ^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\src\telegram_bot.py", line 42, in init_components
    docs = doc_manager.load_document_from_url(doc['url'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DocumentManager' object has no attribute 'load_document_from_url'
2024-11-11 21:28:15,618 - __main__ - INFO - Initializing bot components...
2024-11-11 21:28:16,751 - __main__ - ERROR - Error during initialization: The de-serialization relies loading a pickle file. Pickle files can be modified to deliver a malicious payload that results in execution of arbitrary code on your machine.You will need to set `allow_dangerous_deserialization` to `True` to enable deserialization. If you do this, make sure that you trust the source of the data. For example, if you are loading a file that you created, and know that no one else has modified the file, then this is safe to do. Do not set this to `True` if you are loading a file from an untrusted source (e.g., some random site on the internet.).
Traceback (most recent call last):
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\src\telegram_bot.py", line 52, in init_components
    vector_store = FAISS.load_local(
                   ^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_community\vectorstores\faiss.py", line 1188, in load_local
    raise ValueError(
ValueError: The de-serialization relies loading a pickle file. Pickle files can be modified to deliver a malicious payload that results in execution of arbitrary code on your machine.You will need to set `allow_dangerous_deserialization` to `True` to enable deserialization. If you do this, make sure that you trust the source of the data. For example, if you are loading a file that you created, and know that no one else has modified the file, then this is safe to do. Do not set this to `True` if you are loading a file from an untrusted source (e.g., some random site on the internet.).
2024-11-11 21:28:16,757 - __main__ - ERROR - Fatal error starting bot: The de-serialization relies loading a pickle file. Pickle files can be modified to deliver a malicious payload that results in execution of arbitrary code on your machine.You will need to set `allow_dangerous_deserialization` to `True` to enable deserialization. If you do this, make sure that you trust the source of the data. For example, if you are loading a file that you created, and know that no one else has modified the file, then this is safe to do. Do not set this to `True` if you are loading a file from an untrusted source (e.g., some random site on the internet.).
Traceback (most recent call last):
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\src\telegram_bot.py", line 124, in main
    vector_store, llm, qa_chain, doc_manager = init_components()
                                               ^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\src\telegram_bot.py", line 52, in init_components
    vector_store = FAISS.load_local(
                   ^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_community\vectorstores\faiss.py", line 1188, in load_local
    raise ValueError(
ValueError: The de-serialization relies loading a pickle file. Pickle files can be modified to deliver a malicious payload that results in execution of arbitrary code on your machine.You will need to set `allow_dangerous_deserialization` to `True` to enable deserialization. If you do this, make sure that you trust the source of the data. For example, if you are loading a file that you created, and know that no one else has modified the file, then this is safe to do. Do not set this to `True` if you are loading a file from an untrusted source (e.g., some random site on the internet.).
2024-11-11 21:30:10,835 - __main__ - INFO - === Starting Bot Initialization ===
2024-11-11 21:30:12,229 - __main__ - INFO - Loading FAISS vector store...
2024-11-11 21:30:12,235 - faiss.loader - INFO - Loading faiss with AVX2 support.
2024-11-11 21:30:12,275 - faiss.loader - INFO - Successfully loaded faiss with AVX2 support.
2024-11-11 21:30:12,289 - __main__ - INFO - Existing vector store loaded successfully
2024-11-11 21:30:14,164 - __main__ - ERROR - Error during initialization: create_retrieval_chain() got an unexpected keyword argument 'combine_documents_chain'
Traceback (most recent call last):
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\src\telegram_bot.py", line 90, in init_components
    qa_chain = create_retrieval_chain(
               ^^^^^^^^^^^^^^^^^^^^^^^
TypeError: create_retrieval_chain() got an unexpected keyword argument 'combine_documents_chain'
2024-11-11 21:30:14,167 - __main__ - ERROR - Fatal error starting bot: create_retrieval_chain() got an unexpected keyword argument 'combine_documents_chain'
Traceback (most recent call last):
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\src\telegram_bot.py", line 176, in main
    vector_store, llm, qa_chain, doc_manager = init_components()
                                               ^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\src\telegram_bot.py", line 90, in init_components
    qa_chain = create_retrieval_chain(
               ^^^^^^^^^^^^^^^^^^^^^^^
TypeError: create_retrieval_chain() got an unexpected keyword argument 'combine_documents_chain'
2024-11-11 21:33:02,380 - __main__ - INFO - === Starting Bot Initialization ===
2024-11-11 21:33:03,693 - __main__ - INFO - Loading FAISS vector store...
2024-11-11 21:33:03,698 - faiss.loader - INFO - Loading faiss with AVX2 support.
2024-11-11 21:33:03,737 - faiss.loader - INFO - Successfully loaded faiss with AVX2 support.
2024-11-11 21:33:03,749 - __main__ - INFO - Existing vector store loaded successfully
2024-11-11 21:33:05,839 - __main__ - ERROR - Error during initialization: create_retrieval_chain() got an unexpected keyword argument 'combine_documents_chain'
Traceback (most recent call last):
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\src\telegram_bot.py", line 90, in init_components
    qa_chain = create_retrieval_chain(
               ^^^^^^^^^^^^^^^^^^^^^^^
TypeError: create_retrieval_chain() got an unexpected keyword argument 'combine_documents_chain'
2024-11-11 21:33:05,841 - __main__ - ERROR - Fatal error starting bot: create_retrieval_chain() got an unexpected keyword argument 'combine_documents_chain'
Traceback (most recent call last):
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\src\telegram_bot.py", line 176, in main
    vector_store, llm, qa_chain, doc_manager = init_components()
                                               ^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\src\telegram_bot.py", line 90, in init_components
    qa_chain = create_retrieval_chain(
               ^^^^^^^^^^^^^^^^^^^^^^^
TypeError: create_retrieval_chain() got an unexpected keyword argument 'combine_documents_chain'
2024-11-11 21:33:13,227 - __main__ - INFO - === Starting Bot Initialization ===
2024-11-11 21:33:15,197 - __main__ - INFO - Loading FAISS vector store...
2024-11-11 21:33:15,202 - faiss.loader - INFO - Loading faiss with AVX2 support.
2024-11-11 21:33:15,236 - faiss.loader - INFO - Successfully loaded faiss with AVX2 support.
2024-11-11 21:33:15,344 - __main__ - INFO - Existing vector store loaded successfully
2024-11-11 21:33:16,982 - __main__ - ERROR - Error during initialization: create_retrieval_chain() got an unexpected keyword argument 'combine_documents_chain'
Traceback (most recent call last):
  File "c:\Users\lfana\Documents\Kwantu\kwantu-rag\src\telegram_bot.py", line 90, in init_components
    qa_chain = create_retrieval_chain(
               ^^^^^^^^^^^^^^^^^^^^^^^
TypeError: create_retrieval_chain() got an unexpected keyword argument 'combine_documents_chain'
2024-11-11 21:33:16,983 - __main__ - ERROR - Fatal error starting bot: create_retrieval_chain() got an unexpected keyword argument 'combine_documents_chain'
Traceback (most recent call last):
  File "c:\Users\lfana\Documents\Kwantu\kwantu-rag\src\telegram_bot.py", line 176, in main
    vector_store, llm, qa_chain, doc_manager = init_components()
                                               ^^^^^^^^^^^^^^^^^
  File "c:\Users\lfana\Documents\Kwantu\kwantu-rag\src\telegram_bot.py", line 90, in init_components
    qa_chain = create_retrieval_chain(
               ^^^^^^^^^^^^^^^^^^^^^^^
TypeError: create_retrieval_chain() got an unexpected keyword argument 'combine_documents_chain'
2024-11-11 21:33:24,090 - __main__ - INFO - === Starting Bot Initialization ===
2024-11-11 21:33:25,582 - __main__ - INFO - Loading FAISS vector store...
2024-11-11 21:33:25,584 - faiss.loader - INFO - Loading faiss with AVX2 support.
2024-11-11 21:33:25,612 - faiss.loader - INFO - Successfully loaded faiss with AVX2 support.
2024-11-11 21:33:25,715 - __main__ - INFO - Existing vector store loaded successfully
2024-11-11 21:33:26,990 - __main__ - ERROR - Error during initialization: create_retrieval_chain() got an unexpected keyword argument 'combine_documents_chain'
Traceback (most recent call last):
  File "c:\Users\lfana\Documents\Kwantu\kwantu-rag\src\telegram_bot.py", line 90, in init_components
    qa_chain = create_retrieval_chain(
               ^^^^^^^^^^^^^^^^^^^^^^^
TypeError: create_retrieval_chain() got an unexpected keyword argument 'combine_documents_chain'
2024-11-11 21:33:26,992 - __main__ - ERROR - Fatal error starting bot: create_retrieval_chain() got an unexpected keyword argument 'combine_documents_chain'
Traceback (most recent call last):
  File "c:\Users\lfana\Documents\Kwantu\kwantu-rag\src\telegram_bot.py", line 176, in main
    vector_store, llm, qa_chain, doc_manager = init_components()
                                               ^^^^^^^^^^^^^^^^^
  File "c:\Users\lfana\Documents\Kwantu\kwantu-rag\src\telegram_bot.py", line 90, in init_components
    qa_chain = create_retrieval_chain(
               ^^^^^^^^^^^^^^^^^^^^^^^
TypeError: create_retrieval_chain() got an unexpected keyword argument 'combine_documents_chain'
2024-11-11 21:33:34,815 - __main__ - INFO - === Starting Bot Initialization ===
2024-11-11 21:33:36,256 - __main__ - INFO - Loading FAISS vector store...
2024-11-11 21:33:36,260 - faiss.loader - INFO - Loading faiss with AVX2 support.
2024-11-11 21:33:36,303 - faiss.loader - INFO - Successfully loaded faiss with AVX2 support.
2024-11-11 21:33:36,445 - __main__ - INFO - Existing vector store loaded successfully
2024-11-11 21:33:38,389 - __main__ - ERROR - Error during initialization: create_retrieval_chain() got an unexpected keyword argument 'combine_documents_chain'
Traceback (most recent call last):
  File "c:\Users\lfana\Documents\Kwantu\kwantu-rag\src\telegram_bot.py", line 90, in init_components
    qa_chain = create_retrieval_chain(
               ^^^^^^^^^^^^^^^^^^^^^^^
TypeError: create_retrieval_chain() got an unexpected keyword argument 'combine_documents_chain'
2024-11-11 21:33:38,391 - __main__ - ERROR - Fatal error starting bot: create_retrieval_chain() got an unexpected keyword argument 'combine_documents_chain'
Traceback (most recent call last):
  File "c:\Users\lfana\Documents\Kwantu\kwantu-rag\src\telegram_bot.py", line 176, in main
    vector_store, llm, qa_chain, doc_manager = init_components()
                                               ^^^^^^^^^^^^^^^^^
  File "c:\Users\lfana\Documents\Kwantu\kwantu-rag\src\telegram_bot.py", line 90, in init_components
    qa_chain = create_retrieval_chain(
               ^^^^^^^^^^^^^^^^^^^^^^^
TypeError: create_retrieval_chain() got an unexpected keyword argument 'combine_documents_chain'
2024-11-11 21:35:59,440 - __main__ - INFO - === Starting Bot Initialization ===
2024-11-11 21:36:01,731 - __main__ - INFO - Loading FAISS vector store...
2024-11-11 21:36:01,736 - faiss.loader - INFO - Loading faiss with AVX2 support.
2024-11-11 21:36:01,794 - faiss.loader - INFO - Successfully loaded faiss with AVX2 support.
2024-11-11 21:36:01,930 - __main__ - INFO - Existing vector store loaded successfully
2024-11-11 21:36:04,361 - __main__ - INFO - === Bot Initialization Complete ===
2024-11-11 21:36:07,010 - __main__ - ERROR - Fatal error starting bot: type object 'Document' has no attribute 'file_type'
Traceback (most recent call last):
  File "c:\Users\lfana\Documents\Kwantu\kwantu-rag\src\telegram_bot.py", line 192, in main
    application.add_handler(MessageHandler(filters.Document.file_type, handle_document))
                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Document' has no attribute 'file_type'
2024-11-11 21:37:45,873 - __main__ - INFO - === Starting Bot Initialization ===
2024-11-11 21:37:47,097 - __main__ - INFO - Loading FAISS vector store...
2024-11-11 21:37:47,099 - faiss.loader - INFO - Loading faiss with AVX2 support.
2024-11-11 21:37:47,129 - faiss.loader - INFO - Successfully loaded faiss with AVX2 support.
2024-11-11 21:37:47,322 - __main__ - INFO - Existing vector store loaded successfully
2024-11-11 21:37:49,033 - __main__ - INFO - === Bot Initialization Complete ===
2024-11-11 21:37:50,543 - __main__ - INFO - Starting bot...
2024-11-11 21:37:51,435 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getMe "HTTP/1.1 200 OK"
2024-11-11 21:37:51,710 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/deleteWebhook "HTTP/1.1 200 OK"
2024-11-11 21:37:51,713 - telegram.ext.Application - INFO - Application started
2024-11-11 21:37:52,411 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:37:53,584 - httpx - INFO - HTTP Request: POST https://api.together.xyz/v1/embeddings "HTTP/1.1 200 OK"
2024-11-11 21:37:53,606 - __main__ - ERROR - Error handling message: 
Traceback (most recent call last):
  File "c:\Users\lfana\Documents\Kwantu\kwantu-rag\src\telegram_bot.py", line 120, in handle_message
    response = qa_chain.invoke({
               ^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 5354, in invoke
    return self.bound.invoke(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 3022, in invoke
    input = context.run(step.invoke, input, config, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\passthrough.py", line 494, in invoke
    return self._call_with_config(self._invoke, input, config, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 1927, in _call_with_config
    context.run(
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\config.py", line 396, in call_func_with_variable_args
    return func(input, **kwargs)  # type: ignore[call-arg]
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\passthrough.py", line 481, in _invoke
    **self.mapper.invoke(
      ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 3727, in invoke
    output = {key: future.result() for key, future in zip(steps, futures)}
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 3727, in <dictcomp>
    output = {key: future.result() for key, future in zip(steps, futures)}
                   ^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\_base.py", line 456, in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\_base.py", line 401, in __get_result
    raise self._exception
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 3711, in _invoke_step
    return context.run(
           ^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 5354, in invoke
    return self.bound.invoke(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 3024, in invoke
    input = context.run(step.invoke, input, config)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\retrievers.py", line 254, in invoke
    raise e
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\retrievers.py", line 247, in invoke
    result = self._get_relevant_documents(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\vectorstores\base.py", line 1089, in _get_relevant_documents
    docs = self.vectorstore.max_marginal_relevance_search(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_community\vectorstores\faiss.py", line 869, in max_marginal_relevance_search
    docs = self.max_marginal_relevance_search_by_vector(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_community\vectorstores\faiss.py", line 804, in max_marginal_relevance_search_by_vector
    docs_and_scores = self.max_marginal_relevance_search_with_score_by_vector(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_community\vectorstores\faiss.py", line 699, in max_marginal_relevance_search_with_score_by_vector
    scores, indices = self.index.search(
                      ^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\faiss\class_wrappers.py", line 329, in replacement_search
    assert d == self.d
           ^^^^^^^^^^^
AssertionError
2024-11-11 21:37:53,942 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/sendMessage "HTTP/1.1 200 OK"
2024-11-11 21:38:03,916 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:38:14,229 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:38:17,730 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:38:18,655 - httpx - INFO - HTTP Request: POST https://api.together.xyz/v1/embeddings "HTTP/1.1 200 OK"
2024-11-11 21:38:18,672 - __main__ - ERROR - Error handling message: 
Traceback (most recent call last):
  File "c:\Users\lfana\Documents\Kwantu\kwantu-rag\src\telegram_bot.py", line 120, in handle_message
    response = qa_chain.invoke({
               ^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 5354, in invoke
    return self.bound.invoke(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 3022, in invoke
    input = context.run(step.invoke, input, config, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\passthrough.py", line 494, in invoke
    return self._call_with_config(self._invoke, input, config, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 1927, in _call_with_config
    context.run(
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\config.py", line 396, in call_func_with_variable_args
    return func(input, **kwargs)  # type: ignore[call-arg]
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\passthrough.py", line 481, in _invoke
    **self.mapper.invoke(
      ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 3727, in invoke
    output = {key: future.result() for key, future in zip(steps, futures)}
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 3727, in <dictcomp>
    output = {key: future.result() for key, future in zip(steps, futures)}
                   ^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\_base.py", line 456, in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\_base.py", line 401, in __get_result
    raise self._exception
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 3711, in _invoke_step
    return context.run(
           ^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 5354, in invoke
    return self.bound.invoke(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 3024, in invoke
    input = context.run(step.invoke, input, config)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\retrievers.py", line 254, in invoke
    raise e
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\retrievers.py", line 247, in invoke
    result = self._get_relevant_documents(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\vectorstores\base.py", line 1089, in _get_relevant_documents
    docs = self.vectorstore.max_marginal_relevance_search(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_community\vectorstores\faiss.py", line 869, in max_marginal_relevance_search
    docs = self.max_marginal_relevance_search_by_vector(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_community\vectorstores\faiss.py", line 804, in max_marginal_relevance_search_by_vector
    docs_and_scores = self.max_marginal_relevance_search_with_score_by_vector(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_community\vectorstores\faiss.py", line 699, in max_marginal_relevance_search_with_score_by_vector
    scores, indices = self.index.search(
                      ^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\faiss\class_wrappers.py", line 329, in replacement_search
    assert d == self.d
           ^^^^^^^^^^^
AssertionError
2024-11-11 21:38:19,424 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/sendMessage "HTTP/1.1 200 OK"
2024-11-11 21:38:30,034 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:38:40,295 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:38:51,981 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:39:02,217 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:39:14,014 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:39:24,291 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:39:36,920 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:39:47,151 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:39:57,558 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:40:07,840 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:40:13,380 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:40:14,104 - httpx - INFO - HTTP Request: POST https://api.together.xyz/v1/embeddings "HTTP/1.1 200 OK"
2024-11-11 21:40:14,112 - __main__ - ERROR - Error handling message: 
Traceback (most recent call last):
  File "c:\Users\lfana\Documents\Kwantu\kwantu-rag\src\telegram_bot.py", line 120, in handle_message
    })
       
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 5354, in invoke
    return self.bound.invoke(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 3022, in invoke
    input = context.run(step.invoke, input, config, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\passthrough.py", line 494, in invoke
    return self._call_with_config(self._invoke, input, config, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 1927, in _call_with_config
    context.run(
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\config.py", line 396, in call_func_with_variable_args
    return func(input, **kwargs)  # type: ignore[call-arg]
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\passthrough.py", line 481, in _invoke
    **self.mapper.invoke(
      ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 3727, in invoke
    output = {key: future.result() for key, future in zip(steps, futures)}
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 3727, in <dictcomp>
    output = {key: future.result() for key, future in zip(steps, futures)}
                   ^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\_base.py", line 456, in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\_base.py", line 401, in __get_result
    raise self._exception
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 3711, in _invoke_step
    return context.run(
           ^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 5354, in invoke
    return self.bound.invoke(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 3024, in invoke
    input = context.run(step.invoke, input, config)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\retrievers.py", line 254, in invoke
    raise e
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\retrievers.py", line 247, in invoke
    result = self._get_relevant_documents(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\vectorstores\base.py", line 1089, in _get_relevant_documents
    docs = self.vectorstore.max_marginal_relevance_search(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_community\vectorstores\faiss.py", line 869, in max_marginal_relevance_search
    docs = self.max_marginal_relevance_search_by_vector(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_community\vectorstores\faiss.py", line 804, in max_marginal_relevance_search_by_vector
    docs_and_scores = self.max_marginal_relevance_search_with_score_by_vector(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_community\vectorstores\faiss.py", line 699, in max_marginal_relevance_search_with_score_by_vector
    scores, indices = self.index.search(
                      ^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\faiss\class_wrappers.py", line 329, in replacement_search
    assert d == self.d
           ^^^^^^^^^^^
AssertionError
2024-11-11 21:40:14,901 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/sendMessage "HTTP/1.1 200 OK"
2024-11-11 21:40:18,771 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:40:18,772 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2024-11-11 21:40:18,773 - telegram.ext.Application - INFO - Application.stop() complete
2024-11-11 21:40:40,282 - __main__ - INFO - === Starting Bot Initialization ===
2024-11-11 21:40:42,409 - __main__ - INFO - Loading FAISS vector store...
2024-11-11 21:40:42,416 - faiss.loader - INFO - Loading faiss with AVX2 support.
2024-11-11 21:40:42,465 - faiss.loader - INFO - Successfully loaded faiss with AVX2 support.
2024-11-11 21:40:42,715 - __main__ - INFO - Existing vector store loaded successfully
2024-11-11 21:40:46,158 - __main__ - INFO - === Bot Initialization Complete ===
2024-11-11 21:40:49,111 - __main__ - INFO - Starting bot...
2024-11-11 21:40:51,289 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getMe "HTTP/1.1 200 OK"
2024-11-11 21:40:52,163 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/deleteWebhook "HTTP/1.1 200 OK"
2024-11-11 21:40:52,169 - telegram.ext.Application - INFO - Application started
2024-11-11 21:41:04,463 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:41:16,333 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:41:26,564 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:41:26,992 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:41:27,805 - httpx - INFO - HTTP Request: POST https://api.together.xyz/v1/embeddings "HTTP/1.1 200 OK"
2024-11-11 21:41:27,830 - __main__ - ERROR - Error handling message: 
Traceback (most recent call last):
  File "c:\Users\lfana\Documents\Kwantu\kwantu-rag\src\telegram_bot.py", line 118, in handle_message
    response = qa_chain.invoke({
               ^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 5354, in invoke
    return self.bound.invoke(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 3022, in invoke
    input = context.run(step.invoke, input, config, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\passthrough.py", line 494, in invoke
    return self._call_with_config(self._invoke, input, config, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 1927, in _call_with_config
    context.run(
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\config.py", line 396, in call_func_with_variable_args
    return func(input, **kwargs)  # type: ignore[call-arg]
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\passthrough.py", line 481, in _invoke
    **self.mapper.invoke(
      ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 3727, in invoke
    output = {key: future.result() for key, future in zip(steps, futures)}
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 3727, in <dictcomp>
    output = {key: future.result() for key, future in zip(steps, futures)}
                   ^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\_base.py", line 456, in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\_base.py", line 401, in __get_result
    raise self._exception
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 3711, in _invoke_step
    return context.run(
           ^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 5354, in invoke
    return self.bound.invoke(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 3024, in invoke
    input = context.run(step.invoke, input, config)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\retrievers.py", line 254, in invoke
    raise e
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\retrievers.py", line 247, in invoke
    result = self._get_relevant_documents(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\vectorstores\base.py", line 1080, in _get_relevant_documents
    docs = self.vectorstore.similarity_search(query, **self.search_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_community\vectorstores\faiss.py", line 641, in similarity_search
    docs_and_scores = self.similarity_search_with_score(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_community\vectorstores\faiss.py", line 514, in similarity_search_with_score
    docs = self.similarity_search_with_score_by_vector(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_community\vectorstores\faiss.py", line 415, in similarity_search_with_score_by_vector
    scores, indices = self.index.search(vector, k if filter is None else fetch_k)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\faiss\class_wrappers.py", line 329, in replacement_search
    assert d == self.d
           ^^^^^^^^^^^
AssertionError
2024-11-11 21:41:28,887 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/sendMessage "HTTP/1.1 200 OK"
2024-11-11 21:41:38,125 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:41:48,373 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:41:51,479 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:41:52,409 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/sendMessage "HTTP/1.1 200 OK"
2024-11-11 21:42:02,639 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:42:03,089 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:42:05,001 - httpx - INFO - HTTP Request: POST https://api.together.xyz/v1/embeddings "HTTP/1.1 200 OK"
2024-11-11 21:42:05,025 - __main__ - ERROR - Error handling message: 
Traceback (most recent call last):
  File "c:\Users\lfana\Documents\Kwantu\kwantu-rag\src\telegram_bot.py", line 118, in handle_message
    response = qa_chain.invoke({
               ^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 5354, in invoke
    return self.bound.invoke(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 3022, in invoke
    input = context.run(step.invoke, input, config, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\passthrough.py", line 494, in invoke
    return self._call_with_config(self._invoke, input, config, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 1927, in _call_with_config
    context.run(
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\config.py", line 396, in call_func_with_variable_args
    return func(input, **kwargs)  # type: ignore[call-arg]
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\passthrough.py", line 481, in _invoke
    **self.mapper.invoke(
      ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 3727, in invoke
    output = {key: future.result() for key, future in zip(steps, futures)}
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 3727, in <dictcomp>
    output = {key: future.result() for key, future in zip(steps, futures)}
                   ^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\_base.py", line 456, in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\_base.py", line 401, in __get_result
    raise self._exception
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 3711, in _invoke_step
    return context.run(
           ^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 5354, in invoke
    return self.bound.invoke(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 3024, in invoke
    input = context.run(step.invoke, input, config)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\retrievers.py", line 254, in invoke
    raise e
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\retrievers.py", line 247, in invoke
    result = self._get_relevant_documents(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\vectorstores\base.py", line 1080, in _get_relevant_documents
    docs = self.vectorstore.similarity_search(query, **self.search_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_community\vectorstores\faiss.py", line 641, in similarity_search
    docs_and_scores = self.similarity_search_with_score(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_community\vectorstores\faiss.py", line 514, in similarity_search_with_score
    docs = self.similarity_search_with_score_by_vector(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_community\vectorstores\faiss.py", line 415, in similarity_search_with_score_by_vector
    scores, indices = self.index.search(vector, k if filter is None else fetch_k)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\faiss\class_wrappers.py", line 329, in replacement_search
    assert d == self.d
           ^^^^^^^^^^^
AssertionError
2024-11-11 21:42:06,024 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/sendMessage "HTTP/1.1 200 OK"
2024-11-11 21:42:15,336 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:42:25,610 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:42:35,844 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:42:46,055 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:42:56,321 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:43:06,550 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:43:17,167 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:43:29,311 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:43:43,176 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:43:53,633 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:44:04,109 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:44:14,364 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:44:23,536 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:44:24,482 - httpx - INFO - HTTP Request: POST https://api.together.xyz/v1/embeddings "HTTP/1.1 200 OK"
2024-11-11 21:44:24,858 - __main__ - ERROR - Error handling message: 
Traceback (most recent call last):
  File "c:\Users\lfana\Documents\Kwantu\kwantu-rag\src\telegram_bot.py", line 118, in handle_message
    await update.message.reply_text(welcome_message)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 5354, in invoke
    return self.bound.invoke(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 3022, in invoke
    input = context.run(step.invoke, input, config, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\passthrough.py", line 494, in invoke
    return self._call_with_config(self._invoke, input, config, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 1927, in _call_with_config
    context.run(
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\config.py", line 396, in call_func_with_variable_args
    return func(input, **kwargs)  # type: ignore[call-arg]
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\passthrough.py", line 481, in _invoke
    **self.mapper.invoke(
      ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 3727, in invoke
    output = {key: future.result() for key, future in zip(steps, futures)}
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 3727, in <dictcomp>
    output = {key: future.result() for key, future in zip(steps, futures)}
                   ^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\_base.py", line 456, in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\_base.py", line 401, in __get_result
    raise self._exception
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 3711, in _invoke_step
    return context.run(
           ^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 5354, in invoke
    return self.bound.invoke(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 3024, in invoke
    input = context.run(step.invoke, input, config)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\retrievers.py", line 254, in invoke
    raise e
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\retrievers.py", line 247, in invoke
    result = self._get_relevant_documents(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\vectorstores\base.py", line 1080, in _get_relevant_documents
    docs = self.vectorstore.similarity_search(query, **self.search_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_community\vectorstores\faiss.py", line 641, in similarity_search
    docs_and_scores = self.similarity_search_with_score(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_community\vectorstores\faiss.py", line 514, in similarity_search_with_score
    docs = self.similarity_search_with_score_by_vector(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_community\vectorstores\faiss.py", line 415, in similarity_search_with_score_by_vector
    scores, indices = self.index.search(vector, k if filter is None else fetch_k)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\faiss\class_wrappers.py", line 329, in replacement_search
    assert d == self.d
           ^^^^^^^^^^^
AssertionError
2024-11-11 21:44:25,784 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/sendMessage "HTTP/1.1 200 OK"
2024-11-11 21:44:35,207 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:44:45,489 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:44:55,794 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:45:06,258 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:45:17,289 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:45:31,431 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:45:42,239 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:45:52,508 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:46:02,815 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:46:13,047 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:46:23,426 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:46:33,674 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:46:43,906 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:46:54,131 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:47:04,350 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:47:14,805 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:47:25,046 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:47:35,312 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:47:45,548 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:47:55,791 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:48:06,033 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:48:16,263 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:48:26,484 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:48:36,728 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:48:46,953 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:48:57,204 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:49:07,594 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:49:17,881 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:49:28,186 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:49:38,515 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:49:48,759 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:49:59,008 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:50:09,471 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:50:19,700 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:50:29,914 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:50:40,146 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:50:50,377 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:51:00,604 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:51:10,844 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:51:21,059 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:51:31,302 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:51:41,613 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:51:51,842 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:52:02,063 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:52:12,283 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:52:22,670 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:52:32,905 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:52:43,136 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:52:53,529 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:53:03,773 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:53:13,996 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:53:15,686 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:53:17,142 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getFile "HTTP/1.1 200 OK"
2024-11-11 21:53:17,440 - httpx - INFO - HTTP Request: GET https://api.telegram.org/file/bot7557051309%3AAAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/documents/file_0.pdf "HTTP/1.1 200 OK"
2024-11-11 21:53:20,936 - httpx - INFO - HTTP Request: POST https://api.together.xyz/v1/embeddings "HTTP/1.1 200 OK"
2024-11-11 21:53:21,420 - httpx - INFO - HTTP Request: POST https://api.together.xyz/v1/embeddings "HTTP/1.1 200 OK"
2024-11-11 21:53:22,009 - httpx - INFO - HTTP Request: POST https://api.together.xyz/v1/embeddings "HTTP/1.1 200 OK"
2024-11-11 21:53:22,525 - httpx - INFO - HTTP Request: POST https://api.together.xyz/v1/embeddings "HTTP/1.1 200 OK"
2024-11-11 21:53:23,012 - httpx - INFO - HTTP Request: POST https://api.together.xyz/v1/embeddings "HTTP/1.1 200 OK"
2024-11-11 21:53:23,560 - httpx - INFO - HTTP Request: POST https://api.together.xyz/v1/embeddings "HTTP/1.1 200 OK"
2024-11-11 21:53:24,129 - httpx - INFO - HTTP Request: POST https://api.together.xyz/v1/embeddings "HTTP/1.1 200 OK"
2024-11-11 21:53:25,150 - httpx - INFO - HTTP Request: POST https://api.together.xyz/v1/embeddings "HTTP/1.1 200 OK"
2024-11-11 21:53:25,715 - httpx - INFO - HTTP Request: POST https://api.together.xyz/v1/embeddings "HTTP/1.1 200 OK"
2024-11-11 21:53:26,268 - httpx - INFO - HTTP Request: POST https://api.together.xyz/v1/embeddings "HTTP/1.1 200 OK"
2024-11-11 21:53:26,279 - __main__ - ERROR - Error handling document: 
Traceback (most recent call last):
  File "c:\Users\lfana\Documents\Kwantu\kwantu-rag\src\telegram_bot.py", line 165, in handle_document
    if doc.mime_type not in allowed_types:
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\vectorstores\base.py", line 287, in add_documents
    return self.add_texts(texts, metadatas, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_community\vectorstores\faiss.py", line 339, in add_texts
    return self.__add(texts, embeddings, metadatas=metadatas, ids=ids)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_community\vectorstores\faiss.py", line 310, in __add
    self.index.add(vector)
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\faiss\class_wrappers.py", line 228, in replacement_add
    assert d == self.d
           ^^^^^^^^^^^
AssertionError
2024-11-11 21:53:26,286 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:53:27,005 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/sendMessage "HTTP/1.1 200 OK"
2024-11-11 21:53:27,530 - httpx - INFO - HTTP Request: POST https://api.together.xyz/v1/embeddings "HTTP/1.1 200 OK"
2024-11-11 21:53:27,540 - __main__ - ERROR - Error handling message: 
Traceback (most recent call last):
  File "c:\Users\lfana\Documents\Kwantu\kwantu-rag\src\telegram_bot.py", line 118, in handle_message
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 5354, in invoke
    return self.bound.invoke(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 3022, in invoke
    input = context.run(step.invoke, input, config, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\passthrough.py", line 494, in invoke
    return self._call_with_config(self._invoke, input, config, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 1927, in _call_with_config
    context.run(
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\config.py", line 396, in call_func_with_variable_args
    return func(input, **kwargs)  # type: ignore[call-arg]
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\passthrough.py", line 481, in _invoke
    **self.mapper.invoke(
      ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 3727, in invoke
    output = {key: future.result() for key, future in zip(steps, futures)}
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 3727, in <dictcomp>
    output = {key: future.result() for key, future in zip(steps, futures)}
                   ^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\_base.py", line 456, in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\_base.py", line 401, in __get_result
    raise self._exception
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 3711, in _invoke_step
    return context.run(
           ^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 5354, in invoke
    return self.bound.invoke(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 3024, in invoke
    input = context.run(step.invoke, input, config)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\retrievers.py", line 254, in invoke
    raise e
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\retrievers.py", line 247, in invoke
    result = self._get_relevant_documents(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\vectorstores\base.py", line 1080, in _get_relevant_documents
    docs = self.vectorstore.similarity_search(query, **self.search_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_community\vectorstores\faiss.py", line 641, in similarity_search
    docs_and_scores = self.similarity_search_with_score(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_community\vectorstores\faiss.py", line 514, in similarity_search_with_score
    docs = self.similarity_search_with_score_by_vector(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_community\vectorstores\faiss.py", line 415, in similarity_search_with_score_by_vector
    scores, indices = self.index.search(vector, k if filter is None else fetch_k)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\faiss\class_wrappers.py", line 329, in replacement_search
    assert d == self.d
           ^^^^^^^^^^^
AssertionError
2024-11-11 21:53:27,802 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/sendMessage "HTTP/1.1 200 OK"
2024-11-11 21:53:36,521 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:53:47,268 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:53:57,488 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:54:07,720 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:54:17,990 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:54:28,324 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:54:38,764 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:54:49,025 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:54:59,303 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:55:05,190 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:55:06,143 - httpx - INFO - HTTP Request: POST https://api.together.xyz/v1/embeddings "HTTP/1.1 200 OK"
2024-11-11 21:55:06,163 - __main__ - ERROR - Error handling message: 
Traceback (most recent call last):
  File "c:\Users\lfana\Documents\Kwantu\kwantu-rag\src\telegram_bot.py", line 118, in handle_message
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 5354, in invoke
    return self.bound.invoke(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 3022, in invoke
    input = context.run(step.invoke, input, config, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\passthrough.py", line 494, in invoke
    return self._call_with_config(self._invoke, input, config, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 1927, in _call_with_config
    context.run(
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\config.py", line 396, in call_func_with_variable_args
    return func(input, **kwargs)  # type: ignore[call-arg]
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\passthrough.py", line 481, in _invoke
    **self.mapper.invoke(
      ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 3727, in invoke
    output = {key: future.result() for key, future in zip(steps, futures)}
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 3727, in <dictcomp>
    output = {key: future.result() for key, future in zip(steps, futures)}
                   ^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\_base.py", line 456, in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\_base.py", line 401, in __get_result
    raise self._exception
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 3711, in _invoke_step
    return context.run(
           ^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 5354, in invoke
    return self.bound.invoke(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\runnables\base.py", line 3024, in invoke
    input = context.run(step.invoke, input, config)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\retrievers.py", line 254, in invoke
    raise e
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\retrievers.py", line 247, in invoke
    result = self._get_relevant_documents(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_core\vectorstores\base.py", line 1080, in _get_relevant_documents
    docs = self.vectorstore.similarity_search(query, **self.search_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_community\vectorstores\faiss.py", line 641, in similarity_search
    docs_and_scores = self.similarity_search_with_score(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_community\vectorstores\faiss.py", line 514, in similarity_search_with_score
    docs = self.similarity_search_with_score_by_vector(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\langchain_community\vectorstores\faiss.py", line 415, in similarity_search_with_score_by_vector
    scores, indices = self.index.search(vector, k if filter is None else fetch_k)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lfana\Documents\Kwantu\kwantu-rag\.venv\Lib\site-packages\faiss\class_wrappers.py", line 329, in replacement_search
    assert d == self.d
           ^^^^^^^^^^^
AssertionError
2024-11-11 21:55:06,970 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/sendMessage "HTTP/1.1 200 OK"
2024-11-11 21:55:16,516 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:55:26,768 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:55:37,006 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:55:47,325 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:55:57,553 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:56:04,945 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7557051309:AAFKVl9otSgXZq80UQUFRSLnRRGqTCUa7is/getUpdates "HTTP/1.1 200 OK"
2024-11-11 21:56:04,956 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2024-11-11 21:56:04,957 - telegram.ext.Application - INFO - Application.stop() complete
